@using Microsoft.AspNetCore.Components.Authorization

<CascadingAuthenticationState>
    <ErrorBoundary>
        <ChildContent>
            <Router AppAssembly="@typeof(App).Assembly">
                <Found Context="routeData">
                    <RouteView RouteData="routeData" DefaultLayout="typeof(MainLayout)" />
                </Found>
                <NotFound>
                    <LayoutView Layout="typeof(MainLayout)">
                        <div style="text-align: center; padding: 50px;">
                            <h2>Pagina non trovata</h2>
                            <p>Siamo spiacenti, ma la pagina che cerchi non esiste.</p>
                            <a href="/" class="btn btn-primary">Torna alla Home</a>
                        </div>
                    </LayoutView>
                </NotFound>
            </Router>
        </ChildContent>
        <ErrorContent>
            <LayoutView Layout="typeof(MainLayout)">
                <div style="text-align: center; padding: 50px;">
                    <Icon Name="error" Size="64" />
                    <h2>Qualcosa è andato storto</h2>
                    <p>Si è verificato un errore imprevisto. Ricarica la pagina per riprovare.</p>
                    <button class="btn btn-primary" onclick="window.location.reload()">Ricarica Pagina</button>
                </div>
            </LayoutView>
        </ErrorContent>
    </ErrorBoundary>
</CascadingAuthenticationState>
